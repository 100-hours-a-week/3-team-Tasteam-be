# 이미지 처리 정책

_최종 업데이트: 2026-02-09_

## 1. 적용 범위
- Tasteam 서비스 내 **프로필/로고**, **음식점**, **리뷰**, **메뉴** 이미지 처리 규칙을 정의합니다.
- 업로드/변환/저장 전 과정에 동일하게 적용합니다.

## 2. 공통 규칙
- **비율 유지**: 원본 가로세로 비율을 반드시 유지하며 왜곡 금지(Aspect Ratio Distortion 방지).
- **포맷**: 모든 이미지를 WebP로 변환해 저장/전달.
- **최적화**: 웹·모바일 노출을 위해 손실/무손실 압축을 적용(품질값은 서비스 기본값 사용).

## 3. 프로필·로고(그룹/서브그룹)
- **목표 크기**: 최대 100px × 100px, 1:1 비율 유지.
- **처리 방식**: 비율 유지로 리사이즈 후 중앙 크롭해 100×100에 맞춤.
- **예시**
  - 200×50 → 비율 유지 축소로 50×50 후 중앙 크롭.
  - 30×20 → 비율 유지 축소로 20×20.
  - 400×200 → 200×100으로 축소 후 100×100 중앙 크롭.

## 4. 음식점 이미지
- **최대 너비**: 2048px.
- **처리 방식**: 너비가 2048px을 초과하면 비율 유지 축소만 적용, **크롭 금지**.
- **예시**
  - 1000×500 → 변경 없음.
  - 3000×1500 → 2048×1024로 축소(동일 비율 유지).

## 5. 리뷰 이미지
- **최대 너비**: 768px.
- **처리 방식**: 너비가 768px을 초과하면 비율 유지 축소만 적용, **크롭 금지**.

## 6. 메뉴 이미지
- 리뷰 이미지 규칙과 동일하게 **최대 너비 768px** 적용.
- 크롭 금지, 비율 유지 축소만 수행.

## 7. 권장 처리 순서(공통 파이프라인)
1) 원본 메타 검증(파일명/용량/MIME) 및 WebP 변환 준비.
2) 대상 유형별 최대 너비 계산 및 비율 유지 리사이즈.
3) (프로필/로고 한정) 중앙 크롭으로 1:1 100×100 맞춤.
4) WebP로 변환 후 웹·모바일 품질 설정으로 압축 저장.
5) 결과 메타데이터(최종 가로/세로/용량/품질값) 기록.
